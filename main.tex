\documentclass[a4j]{ltjsarticle}

\usepackage{luatexja-fontspec}
\usepackage[sourcehan]{luatexja-preset}
\usepackage{listings}
\usepackage{amsmath,color}

% ここからソースコードの表示に関する設定
\lstset{
  basicstyle=\small\ttfamily,
  identifierstyle=\small,
  commentstyle=\smallitshape,
  keywordstyle=\color{red},
  ndkeywordstyle=\small,
  stringstyle=\color{blue},
  tabsize=4,
  frame={tb},
  breaklines=true,
  columns=[l]{fullflexible},
  numbers=left,
  numberstyle=\scriptsize,
  stepnumber=1,
  lineskip=-0.5ex
}
\renewcommand{\lstlistingname}{ソースコード} % キャプション名の変更
% ここまでソースコードの表示に関する設定

\title{レポート課題}
\author{学籍番号：201899999\\氏名：情報太郎}
\date{提出日：\today}

\begin{document}

\maketitle

\section{課題}

Hello Worldのソースコードを、ソースコード\ref{chello}に示す。

\begin{lstlisting}[language=c,caption=C言語でHello World,label=chello]
#include <stdio.h>
int main(){
    printf("Hello world!");
}
\end{lstlisting}

\end{document}

