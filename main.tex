\documentclass{jlreq}

%% 日本語対応
\usepackage{luatexja}

%% フォント設定
\usepackage[no-math,match]{luatexja-fontspec}
% 欧文フォント
\setmainfont{Source Serif Pro Regular}
\setsansfont{Source Sans Pro}
% 和文フォント
\setmainjfont[YokoFeatures={JFM=prop}]{SourceHanSerif-Regular}
\setsansjfont[YokoFeatures={JFM=prop}]{SourceHanSans-Regular}

%% ルビの設定
\usepackage{luatexja-ruby}

%% 参照やハイパーリンクの設定
\usepackage{hyperref}
\hypersetup{
  luatex,
  bookmarks=true,
  bookmarksnumbered=true,
  colorlinks=false,
  hypertexnames=false,
  unicode,
  hidelinks
}

%% ここからソースコードの表示に関する設定
\usepackage{listings}
\lstset{
  basicstyle=\small\ttfamily,
  identifierstyle=\small,
  commentstyle=\smallitshape,
  keywordstyle=\color{red},
  ndkeywordstyle=\small,
  stringstyle=\color{blue},
  tabsize=4,
  frame={tb},
  breaklines=true,
  columns=[l]{fullflexible},
  numbers=left,
  numberstyle=\scriptsize,
  stepnumber=1,
  lineskip=-0.5ex
}
\renewcommand{\lstlistingname}{ソースコード} % キャプション名の変更
% ここまでソースコードの表示に関する設定

\usepackage{amsmath,color}

\title{レポート課題}
\author{学籍番号：201899999\\氏名：\ruby{情報太郎}{じょうほうたろう}}
\date{提出日：\today}

\begin{document}

\maketitle

\section{ソースコード}

Hello Worldのソースコードを、ソースコード\ref{c-hello}に示す。

\begin{lstlisting}[language=c,caption=C言語でHello World,label=c-hello]
#include <stdio.h>
int main(){
    printf("Hello world!");
}
\end{lstlisting}

\end{document}

